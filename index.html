<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QCMemento</title>
    <!-- Link to Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
    }
    .container-fluid {
      min-height: 100vh;
      border: 1px solid #f8f9fa; /* Light border */
    }
    .fixed-footer {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(
        248,
        249,
        250,
        0.9
      ); /* Light background with some transparency */
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
      z-index: 1030; /* Same as Bootstrap's navbar, high enough to be above most elements */
      border-top: 1px solid #dee2e6; /* Subtle separator */
    }
    #output_text {
      display: block; /* Make it a block-level element */
      padding: 10px; /* Add some padding for better spacing */
      background-color: #f1f1f1; /* Light background to contrast with light-bg */
      border: 1px solid #ccc; /* Add a subtle border */
      border-radius: 5px; /* Rounded corners */
      font-family:
        Consolas, Monaco, monospace; /* Monospace font for code appearance */
      color: #333; /* Dark text for contrast */
      overflow-x: auto; /* Allow horizontal scrolling if the content overflows */
      white-space: pre-wrap; /* Wrap long lines instead of breaking them */
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for extra contrast */
    }
    code .comment {
      color: #888; /* Grey color */
      font-style: italic;
    }
  </style>
  <body>
    <div class="container-fluid border bg-light">
      <div class="row">
        <!-- Left Column: Form Inputs -->
        <div class="col-6">
          <div class="p-3 mt-3">
            <h3>General</h3>
            <form id="selectionForm">
              <!-- Row for Program and Calculation Type -->
              <div class="row mb-3">
                <div class="col-auto">
                  <label for="qc_program" class="form-label">Program</label>
                  <select id="qc_program" class="form-select" disabled>
                    <option value="Orca">Orca</option>
                    <!-- <option value="PySCF">PySCF</option> -->
                    <!-- <option value="Molcas">Molcas</option> -->
                    <!-- <option value="Psi4">Psi4</option> -->
                  </select>
                </div>

                <div class="col-auto">
                  <label for="calc_type" class="form-label"
                    >Calculation Type</label
                  >
                  <select id="calc_type" class="form-select">
                    <option value="SP">Single Point</option>
                    <option value="OPT">Geometry Opt</option>
                    <option value="OPTTS">Transition State Opt</option>
                  </select>
                </div>

                <div class="col-auto d-flex align-items-end">
                  <input
                    type="checkbox"
                    class="btn-check"
                    id="freq_toggle"
                    autocomplete="off"
                  />
                  <label class="btn btn-outline-secondary" for="freq_toggle"
                    >Freq</label
                  >
                </div>
              </div>

              <!-- Calculation Parameters Section -->
              <h4>Calculation Parameters</h4>
              <div class="row mb-3">
                <div class="col-auto">
                  <label for="calc_param" class="form-label">Method</label>
                  <select id="calc_param" class="form-select">
                    <option value="HF">HF</option>
                    <option value="DFT">DFT</option>
                    <option value="CASSCF">CASSCF</option>
                    <option value="MP2">MP2</option>
                    <option value="CCSD">CCSD</option>
                    <option value="CCSD(T)">CCSD(T)</option>
                    <option value="CCSDT">CCSDT</option>
                  </select>
                </div>
                <div class="col-4">
                  <label for="basis_param" class="form-label">Basis Set</label>
                  <select id="basis_param" class="form-select"></select>
                </div>
                <div class="col-auto" id="scf-type-container">
                  <label for="scf_type" class="form-label">SCF Type</label>
                  <select id="scf_type" class="form-select"></select>
                </div>
              </div>

              <!-- Method-specific options -->

              <div class="row">
                <div id="dft-options" class="d-none col-auto mb-3">
                  <label for="dft_functional" class="form-label"
                    >XC Functional</label
                  >
                  <select id="dft_functional" class="form-select"></select>
                </div>

                <div
                  id="stability_checkbox_container"
                  class="col-auto d-none mb-3 align-self-end"
                >
                  <input
                    type="checkbox"
                    class="btn-check"
                    id="stability_toggle"
                    autocomplete="off"
                  />
                  <label
                    class="btn btn-outline-secondary"
                    for="stability_toggle"
                    >Stability Analysis</label
                  >
                </div>
              </div>

              <div id="mp2-options" class="d-none col-auto mb-3">
                <input
                  type="checkbox"
                  class="btn-check"
                  id="natorb_toggle"
                  autocomplete="off"
                />
                <label class="btn btn-outline-secondary" for="natorb_toggle"
                  >Natural Orbitals</label
                >
              </div>
              <div id="casscf-options" class="d-none">
                <label for="active_space" class="form-label"
                  >Active Space</label
                >
                <div class="row">
                  <div class="col-2 mb-3">
                    <label for="active_electrons" class="form-label"
                      ># Elec</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="active_electrons"
                      value="2"
                    />
                  </div>
                  <div class="col-2 mb-3">
                    <label for="active_orbitals" class="form-label"
                      ># Orbs</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="active_orbitals"
                      value="2"
                    />
                  </div>
                  <div class="col-2 mb-3">
                    <label for="active_nroots" class="form-label"
                      ># Roots</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="active_nroots"
                      value="1"
                    />
                  </div>
                  <div class="col-auto mb-3">
                    <label for="active_pt" class="form-label">MRPT</label>
                    <select id="active_pt" class="form-select">
                      <option value=""></option>
                      <option value="SC_NEVPT2">SC_NEVPT2</option>
                      <option value="FIC_NEVPT2">FIC_NEVPT2</option>
                      <option value="CASPT2">CASPT2</option>
                    </select>
                  </div>
                </div>
              </div>

              <h4>Molecule</h4>
              <div class="row">
                <div class="col-2">
                  <label for="charge" class="form-label">Charge</label>
                  <input
                    type="number"
                    class="form-control"
                    id="charge"
                    value="0"
                  />
                </div>
                <div class="col-2 mb-3">
                  <label for="multiplicity" class="form-label"
                    >Multiplicity</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="multiplicity"
                    value="1"
                  />
                </div>
              </div>

              <!-- XYZ Geometry Input -->
              <div id="xyz-input" class="col-8">
                <label for="xyz_file" class="form-label">XYZ Geometry</label>
                <textarea
                  id="xyz_file"
                  class="form-control"
                  rows="6"
                ></textarea>
              </div>
            </form>
          </div>
        </div>

        <!-- Right Column: Display Area -->
        <div class="col-6">
          <div class="p-3 mt-3">
            <h3>Generated Input File</h3>
            <div class="code-container position-relative">
              <button
                class="copy-btn btn btn-sm btn-outline-secondary position-absolute top-0 end-0 m-2"
              >
                Copy
              </button>
              <code id="output_text"></code>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="fixed-footer">
      <div class="container">
        <div class="row">
          <div class="col-md-6 text-start">
            <p class="mb-0">
              <i>QCMemento</i>: The Input Generator for Forgetful Chemists 🤓
            </p>
          </div>
          <div class="col-md-6 text-end">
            <p class="mb-0">
              <small class="text-muted"
                >© 2025 | Created by Kalman Szenes</small
              >
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS (Optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript to update the text area -->
    <script src="./main.js"></script>
  </body>
</html>
